<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Memory Match</title>
<style>
  body{margin:0; display:flex; flex-direction:column; justify-content:center; align-items:center; height:100vh; background:#0b1220; font-family:Arial,sans-serif; color:#e6eef8; overflow:hidden;}
  #game{display:grid; grid-template-columns: repeat(4, 100px); gap:10px;}
  .card{width:100px; height:100px; background:#04121a; display:flex; justify-content:center; align-items:center; font-size:48px; cursor:pointer; border-radius:8px; transition:0.2s;}
  .card.flipped{background:#6ad1ff; color:#042033;}
  .info{margin-bottom:10px;}
  button{margin-top:10px; padding:8px 12px; border:none; border-radius:6px; background:#6ad1ff; color:#042033; font-weight:600; cursor:pointer;}
  .confetti{position:absolute; top:0; left:0; width:100%; height:100%; pointer-events:none; overflow:hidden;}
  .confetti-piece{position:absolute; width:10px; height:10px; background:var(--color); opacity:0.8; animation:fall 2s linear forwards;}
  @keyframes fall{0%{transform:translateY(0) rotate(0deg);}100%{transform:translateY(100vh) rotate(360deg);}}
</style>
</head>
<body>
<div class="info">Moves: <span id="moves">0</span></div>
<div id="game"></div>
<button id="resetBtn">Reset</button>
<div class="confetti" id="confettiContainer"></div>
<script>
const gameEl=document.getElementById('game');
const movesEl=document.getElementById('moves');
const confettiContainer = document.getElementById('confettiContainer');
let moves=0;
let firstCard=null;
let secondCard=null;
let lock=false;

let symbols=['ðŸŽ','ðŸŒ','ðŸ‡','ðŸ’','ðŸ¥','ðŸ','ðŸ‘','ðŸ¥¥'];
let cards=[];

function shuffle(array){
  for(let i=array.length-1;i>0;i--){
    const j=Math.floor(Math.random()*(i+1)); [array[i],array[j]]=[array[j],array[i]];
  }
}

function setupGame(){
  moves=0; movesEl.textContent=moves;
  firstCard=null; secondCard=null; lock=false;
  confettiContainer.innerHTML='';
  cards = [...symbols, ...symbols]; shuffle(cards);
  gameEl.innerHTML='';
  cards.forEach((sym,i)=>{
    const div=document.createElement('div'); div.className='card'; div.dataset.symbol=sym;
    div.addEventListener('click',()=>flipCard(div));
    gameEl.appendChild(div);
  });
}

function flipCard(card){
  if(lock || card.classList.contains('flipped')) return;
  card.classList.add('flipped');
  card.textContent=card.dataset.symbol;
  if(!firstCard){firstCard=card; return;}
  secondCard=card;
  moves++; movesEl.textContent=moves;
  if(firstCard.dataset.symbol===secondCard.dataset.symbol){firstCard=null; secondCard=null; checkWin(); } else {
    lock=true;
    setTimeout(()=>{firstCard.classList.remove('flipped'); firstCard.textContent=''; secondCard.classList.remove('flipped'); secondCard.textContent=''; firstCard=null; secondCard=null; lock=false;},800);
  }
}

function checkWin(){
  if([...document.querySelectorAll('.card')].every(c=>c.classList.contains('flipped'))){
    launchConfetti();
    setTimeout(()=>alert(`You won in ${moves} moves!`),200);
  }
}

function launchConfetti(){
  for(let i=0;i<100;i++){
    const piece=document.createElement('div');
    piece.className='confetti-piece';
    piece.style.left=Math.random()*100+'%';
    piece.style.background=`hsl(${Math.random()*360}, 100%, 50%)`;
    piece.style.animationDuration=(Math.random()*1+1.5)+'s';
    confettiContainer.appendChild(piece);
  }
  setTimeout(()=>{confettiContainer.innerHTML='';},2500);
}

setupGame();
document.getElementById('resetBtn').addEventListener('click',setupGame);
</script>
</body>
</html>
